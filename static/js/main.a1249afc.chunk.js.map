{"version":3,"sources":["components/Pokemon.js","components/PokemonCard.js","App.js","index.js"],"names":["Pokemon","_ref","isShiny","props","Object","objectWithoutProperties","console","log","pokemon","_props$pokemon","name","index","types","stats","description","image","height","weight","eggGroup","abilities","genderRatioMale","genderRatioFemale","evs","hatchSteps","concat","react_default","a","createElement","Fragment","className","padStart","map","_ref2","type","key","src","alt","stat","style","width","base_stat","PokemonCard","imageUrl","apiHost","Pokedex","state","url","offset","allPokemon","_this2","this","fetchData","setState","loading","fetch","then","res","json","promises","results","data","_objectSpread","replace","split","pop","sort","b","slot","Promise","all","window","addEventListener","event","doneLoading","document","documentElement","offsetHeight","scrollY","innerHeight","newOffset","prevState","length","toConsumableArray","_this3","_this$state","currentPokemon","href","onClick","assign","React","Component","ReactDOM","render","App_Pokedex","getElementById"],"mappings":"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","file":"static/js/main.a1249afc.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function Pokemon({isShiny, ...props}) {\n  console.log(props.pokemon);\n  const {\n    name,\n    index,\n    types,\n    description,\n    stats,\n    height,\n    weight,\n    eggGroup,\n    abilities,\n    genderRatioMale,\n    genderRatioFemale,\n    evs,\n    hatchSteps,\n  } = props.pokemon;\n\n  const image = props.isShiny\n    ? `http://cursist38.reacollege.eu/sprites/shiny/${index}.png`\n    : `http://cursist38.reacollege.eu/sprites/${index}.png`;\n\n  return (\n    <React.Fragment>\n      <div className=\"pokemonCardTop\">\n        <h3>#{index.padStart(3, '00')}</h3>\n        <h3>{name}</h3>\n      </div>\n      <div className=\"pokemonCardBot\">\n        <div className=\"typing\">\n          {types.map(({type: {name}}) => (\n            <span className={name} key={name} />\n          ))}\n        </div>\n        <div className=\"pokemonSprite\">\n          <img src={image} alt={name + 'sprite'} />\n        </div>\n        <div className=\"pokemonStats\">\n          {stats.map(stat => (\n            <div className={stat.stat.name} key={stat.stat.name}>\n              <span>{stat.stat.name}</span>\n              <div className=\"progress\">\n                <div style={{width: stat.base_stat / 2 + '%'}} className={stat.stat.name + 'value'}>\n                  <span>{stat.base_stat}</span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n        <p>Click anywhere to close the screen!</p>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\nexport default function PokemonCard({isShiny, index, name, types}) {\n  const imageUrl = isShiny\n    ? `http://cursist38.reacollege.eu/sprites/shiny/${index}.png`\n    : `http://cursist38.reacollege.eu/sprites/${index}.png`;\n\n  return (\n    <React.Fragment>\n      <div className=\"pokemonCardTop\">\n        <h3>#{index.padStart(3, '00')}</h3>\n        <h3>{name}</h3>\n      </div>\n      <div className=\"pokemonCardBot\">\n        <div className=\"typing\">\n          {types.map(({type: {name}}) => (\n            <span className={name} key={name} />\n          ))}\n        </div>\n        <div className=\"pokemonSprite\">\n          <img src={imageUrl} alt={name + 'sprite'} />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\nimport Pokemon from './components/Pokemon';\nimport PokemonCard from './components/PokemonCard';\n\nimport './styles/App.sass';\nimport './styles/PokemonTyping.sass';\n\nconst path =\n  process.env.NODE_ENV === 'development'\n    ? 'http://localhost:3000'\n    : 'https://julicolo.github.io/react-pokedex';\n\nconst apiHost =\n  process.env.NODE_ENV === 'development' ? 'http://localhost:1337' : 'https://pokeapi.co';\n\nexport default class Pokedex extends React.Component {\n  state = {\n    url: `${apiHost}/api/v2/pokemon/?limit=50`,\n    offset: 0,\n    allPokemon: null,\n    isShiny: false,\n  };\n\n  componentDidMount() {\n    const fetchData = () => {\n      this.setState({loading: true});\n\n      return fetch(this.state.url)\n        .then(res => res.json())\n        .then(json => {\n          const promises = json.results.map(({name, url}) => {\n            return fetch(url)\n              .then(res => res.json())\n              .then(data => ({\n                name,\n                url,\n                index: url\n                  .replace(/\\/$/, '')\n                  .split('/')\n                  .pop(),\n                ...data,\n                types: data.types.sort((a, b) => a.slot - b.slot),\n              }));\n          });\n          return Promise.all(promises).then(pokemon => {\n            this.setState({loading: false});\n            return pokemon;\n          });\n        });\n    };\n\n    window.addEventListener('scroll', event => {\n      if (this.state.loading || this.state.doneLoading) return;\n\n      const height = document.documentElement.offsetHeight;\n      const scrolled = window.scrollY + window.innerHeight;\n\n      if (height * 0.85 <= scrolled) {\n        this.setState(state => {\n          const newOffset = state.offset + 50;\n\n          return {\n            ...state,\n            offset: newOffset,\n            url: `${apiHost}/api/v2/pokemon/?limit=25&offset=${newOffset}`,\n          };\n        });\n\n        fetchData().then(pokemon =>\n          this.setState(prevState => ({\n            doneLoading: pokemon.length === 0,\n            allPokemon: [...prevState.allPokemon, ...pokemon],\n          }))\n        );\n      }\n    });\n    fetchData().then(allPokemon => this.setState({allPokemon}));\n  }\n\n  render() {\n    const {allPokemon, currentPokemon, isShiny} = this.state;\n\n    return (\n      <div className=\"container\">\n        <header className=\"header\">\n          <a href={path}>Pokedex</a>\n          <button\n            onClick={() => {\n              this.setState({isShiny: !isShiny});\n            }}\n          >\n            Toggle Shinies!\n          </button>\n        </header>\n        <div className=\"main\">\n          {currentPokemon ? (\n            <div className=\"highlighted\" onClick={() => this.setState({currentPokemon: null})}>\n              <Pokemon isShiny={isShiny} pokemon={currentPokemon} />\n            </div>\n          ) : null}\n          {allPokemon ? (\n            allPokemon.map(pokemon => (\n              <div\n                className=\"pokemonCard\"\n                key={pokemon.name}\n                onClick={() => this.setState({currentPokemon: pokemon})}\n              >\n                <PokemonCard isShiny={isShiny} {...pokemon} />\n              </div>\n            ))\n          ) : (\n            <h2>Loading Pokedex</h2>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}