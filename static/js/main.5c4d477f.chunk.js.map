{"version":3,"sources":["components/Pokemon.js","components/PokemonCard.js","App.js","index.js"],"names":["Pokemon","state","pokedexEntry","_this2","this","fetch","props","pokemon","species","url","then","res","json","entries","flavor_text_entries","index","length","setState","flavor_text","_this$props$pokemon","name","types","stats","height","weight","abilities","react_default","a","createElement","Fragment","className","padStart","map","_ref","type","key","src","concat","alt","stat","style","width","base_stat","React","Component","PokemonCard","isShiny","imageUrl","_ref2","apiHost","Pokedex","offset","allPokemon","highlightedPokemon","fetchData","loading","promises","results","data","_objectSpread","replace","split","pop","sort","b","slot","Promise","all","window","addEventListener","event","doneLoading","document","documentElement","offsetHeight","scrollY","innerHeight","newOffset","prevState","Object","toConsumableArray","_this3","_this$state","onClick","href","target","rel","viewBox","version","color","fillRule","d","Pokemon_Pokemon","assign","ReactDOM","render","App_Pokedex","getElementById"],"mappings":"mQAEqBA,6MACnBC,MAAQ,CACNC,aAAc,uFAGI,IAAAC,EAAAC,KAEhBC,MAAMF,EAAKG,MAAMC,QAAQC,QAAQC,KAC9BC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACJ,IAAMC,EAAUD,EAAKE,oBACfC,EAAQF,EAAQG,OAAS,GAAK,EAAI,EACxCb,EAAKc,SAAS,CACZf,aAAcW,EAAQE,GAAOG,iDAO9B,IACAhB,EAAgBE,KAAKH,MAArBC,aADAiB,EAEwDf,KAAKE,MAAMC,QAAnEa,EAFAD,EAEAC,KAAML,EAFNI,EAEMJ,MAAOM,EAFbF,EAEaE,MAAOC,EAFpBH,EAEoBG,MAFpBH,EAE2BI,OAF3BJ,EAEmCK,OAFnCL,EAE2CM,UAElD,OACEC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,cAAMb,EAAMgB,SAAS,EAAG,OACxBL,EAAAC,EAAAC,cAAA,UAAKR,IAEPM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACZT,EAAMW,IAAI,SAAAC,GAAA,IAASb,EAATa,EAAEC,KAAOd,KAAT,OACTM,EAAAC,EAAAC,cAAA,QAAME,UAAWV,EAAMe,IAAKf,OAGhCM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACbJ,EAAAC,EAAAC,cAAA,OACEQ,IAAG,0CAAAC,OAA4CtB,EAA5C,QACHuB,IAAKlB,EAAO,WAEdM,EAAAC,EAAAC,cAAA,OACEQ,IAAG,gDAAAC,OAAkDtB,EAAlD,QACHuB,IAAKlB,EAAO,YAGhBM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,SAAI1B,IAENwB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACZR,EAAMU,IAAI,SAAAO,GAAI,OACbb,EAAAC,EAAAC,cAAA,OAAKE,UAAWS,EAAKA,KAAKnB,KAAMe,IAAKI,EAAKA,KAAKnB,MAC7CM,EAAAC,EAAAC,cAAA,YAAOW,EAAKA,KAAKnB,MACjBM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,OACEY,MAAO,CAACC,MAAOF,EAAKG,UAAY,EAAI,KACpCZ,UAAWS,EAAKA,KAAKnB,KAAO,SAE5BM,EAAAC,EAAAC,cAAA,YAAOW,EAAKG,iBAMtBhB,EAAAC,EAAAC,cAAA,yDAhE2Be,IAAMC,WCA5B,SAASC,EAATZ,GAAoD,IAA9Ba,EAA8Bb,EAA9Ba,QAAS/B,EAAqBkB,EAArBlB,MAAOK,EAAca,EAAdb,KAAMC,EAAQY,EAARZ,MACnD0B,EAAWD,EAAO,gDAAAT,OAC4BtB,EAD5B,kDAAAsB,OAEsBtB,EAFtB,QAIxB,OACEW,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,cAAMb,EAAMgB,SAAS,EAAG,OACxBL,EAAAC,EAAAC,cAAA,UAAKR,IAEPM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACZT,EAAMW,IAAI,SAAAgB,GAAA,IAAS5B,EAAT4B,EAAEd,KAAOd,KAAT,OACTM,EAAAC,EAAAC,cAAA,QAAME,UAAWV,EAAMe,IAAKf,OAGhCM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACbJ,EAAAC,EAAAC,cAAA,OAAKQ,IAAKW,EAAUT,IAAKlB,EAAO,6kBCZ1C,IAAM6B,EAC+D,qBAEhDC,6MACnBjD,MAAQ,CACNQ,IAAG,GAAA4B,OAAKY,EAAL,6BACHE,OAAQ,EACRC,WAAY,KACZN,SAAS,EACTO,mBAAoB,yFAGF,IAAAlD,EAAAC,KACZkD,EAAY,WAGhB,OAFAnD,EAAKc,SAAS,CAACsC,SAAS,IAEjBlD,MAAMF,EAAKF,MAAMQ,KACrBC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACJ,IAAM4C,EAAW5C,EAAK6C,QAAQzB,IAAI,SAAAC,GAAiB,IAAfb,EAAea,EAAfb,KAAMX,EAASwB,EAATxB,IACxC,OAAOJ,MAAMI,GACVC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAgD,GAAI,OAAAC,EAAA,CACRvC,OACAX,MACAM,MAAON,EACJmD,QAAQ,MAAO,IACfC,MAAM,KACNC,OACAJ,EAPK,CAQRrC,MAAOqC,EAAKrC,MAAM0C,KAAK,SAACpC,EAAGqC,GAAJ,OAAUrC,EAAEsC,KAAOD,EAAEC,aAGlD,OAAOC,QAAQC,IAAIX,GAAU9C,KAAK,SAAAH,GAEhC,OADAJ,EAAKc,SAAS,CAACsC,SAAS,IACjBhD,OAKf6D,OAAOC,iBAAiB,SAAU,SAAAC,GAC5BnE,EAAKF,MAAMsD,SAAWpD,EAAKF,MAAMsE,aAKxB,IAHEC,SAASC,gBAAgBC,cACvBN,OAAOO,QAAUP,OAAOQ,cAGvCzE,EAAKc,SAAS,SAAAhB,GACZ,IAAM4E,EAAY5E,EAAMkD,OAAS,GAEjC,OAAAQ,EAAA,GACK1D,EADL,CAEEkD,OAAQ0B,EACRpE,IAAG,GAAA4B,OAAKY,EAAL,qCAAAZ,OAAgDwC,OAIvDvB,IAAY5C,KAAK,SAAAH,GAAO,OACtBJ,EAAKc,SAAS,SAAA6D,GAAS,MAAK,CAC1BP,YAAgC,IAAnBhE,EAAQS,OACrBoC,WAAU,GAAAf,OAAA0C,OAAAC,EAAA,EAAAD,CAAMD,EAAU1B,YAAhB2B,OAAAC,EAAA,EAAAD,CAA+BxE,YAKjD+C,IAAY5C,KAAK,SAAA0C,GAAU,OAAIjD,EAAKc,SAAS,CAACmC,kDAGvC,IAAA6B,EAAA7E,KAAA8E,EAC2C9E,KAAKH,MAAhDmD,EADA8B,EACA9B,WAAYC,EADZ6B,EACY7B,mBAAoBP,EADhCoC,EACgCpC,QAEvC,OACEpB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,UAAQE,UAAU,UAChBJ,EAAAC,EAAAC,cAAA,MAAIuD,QAAS,kBAAMF,EAAKhE,SAAS,CAACoC,mBAAoB,SAAtD,WACA3B,EAAAC,EAAAC,cAAA,UAAQuD,QAAS,kBAAMF,EAAKhE,SAAS,CAAC6B,SAAUA,MAAhD,mBACApB,EAAAC,EAAAC,cAAA,KACEwD,KAAK,4CACLC,OAAO,SACPC,IAAI,uBAEJ5D,EAAAC,EAAAC,cAAA,OAAK2D,QAAQ,YAAYC,QAAQ,OAC/B9D,EAAAC,EAAAC,cAAA,QACE6D,MAAM,QACNC,SAAS,UACTC,EAAE,kkBAKVjE,EAAAC,EAAAC,cAAA,OACEE,UAAU,OACVqD,QAAS,SAAAb,GACoB,OAAvBjB,GAA6B4B,EAAKhE,SAAS,CAACoC,mBAAoB,SAGrEA,EACC3B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAACgE,EAAD,CAAS9C,QAASA,EAASvC,QAAS8C,KAEpC,KACHD,EACCA,EAAWpB,IAAI,SAAAzB,GAAO,OACpBmB,EAAAC,EAAAC,cAAA,OACEE,UAAU,cACVK,IAAK5B,EAAQa,KACb+D,QAAS,kBAAMF,EAAKhE,SAAS,CAACoC,mBAAoB9C,MAElDmB,EAAAC,EAAAC,cAACiB,EAADkC,OAAAc,OAAA,CAAa/C,QAASA,GAAavC,OAIvCmB,EAAAC,EAAAC,cAAA,sCA7GyBe,IAAMC,WCP3CkD,IAASC,OAAOrE,EAAAC,EAAAC,cAACoE,EAAD,MAASxB,SAASyB,eAAe","file":"static/js/main.5c4d477f.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class Pokemon extends React.Component {\n  state = {\n    pokedexEntry: '',\n  };\n\n  componentDidMount() {\n    const fetchData = () => {\n      fetch(this.props.pokemon.species.url)\n        .then(res => res.json())\n        .then(json => {\n          const entries = json.flavor_text_entries;\n          const index = entries.length < 55 ? 1 : 2;\n          this.setState({\n            pokedexEntry: entries[index].flavor_text,\n          });\n        });\n    };\n\n    fetchData();\n  }\n  render() {\n    const {pokedexEntry} = this.state;\n    const {name, index, types, stats, height, weight, abilities} = this.props.pokemon;\n\n    return (\n      <React.Fragment>\n        <div className=\"pokemonCardTop\">\n          <h3>#{index.padStart(3, '00')}</h3>\n          <h3>{name}</h3>\n        </div>\n        <div className=\"pokemonCardBot\">\n          <div className=\"typing\">\n            {types.map(({type: {name}}) => (\n              <span className={name} key={name} />\n            ))}\n          </div>\n          <div className=\"pokemonSprite\">\n            <img\n              src={`http://cursist38.reacollege.eu/sprites/${index}.png`}\n              alt={name + 'sprite'}\n            />\n            <img\n              src={`http://cursist38.reacollege.eu/sprites/shiny/${index}.png`}\n              alt={name + 'sprite'}\n            />\n          </div>\n          <div className=\"pokemonEntry\">\n            <p>{pokedexEntry}</p>\n          </div>\n          <div className=\"pokemonStats\">\n            {stats.map(stat => (\n              <div className={stat.stat.name} key={stat.stat.name}>\n                <span>{stat.stat.name}</span>\n                <div className=\"progress\">\n                  <div\n                    style={{width: stat.base_stat / 2 + '%'}}\n                    className={stat.stat.name + 'value'}\n                  >\n                    <span>{stat.base_stat}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          <p>Click anywhere to close the screen!</p>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\n\nexport default function PokemonCard({isShiny, index, name, types}) {\n  const imageUrl = isShiny\n    ? `http://cursist38.reacollege.eu/sprites/shiny/${index}.png`\n    : `http://cursist38.reacollege.eu/sprites/${index}.png`;\n\n  return (\n    <React.Fragment>\n      <div className=\"pokemonCardTop\">\n        <h3>#{index.padStart(3, '00')}</h3>\n        <h3>{name}</h3>\n      </div>\n      <div className=\"pokemonCardBot\">\n        <div className=\"typing\">\n          {types.map(({type: {name}}) => (\n            <span className={name} key={name} />\n          ))}\n        </div>\n        <div className=\"pokemonSprite\">\n          <img src={imageUrl} alt={name + 'sprite'} />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\nimport Pokemon from './components/Pokemon';\nimport PokemonCard from './components/PokemonCard';\n\nimport './styles/App.sass';\nimport './styles/PokemonTyping.sass';\n\nconst apiHost =\n  process.env.NODE_ENV === 'development' ? 'http://localhost:1337' : 'https://pokeapi.co';\n\nexport default class Pokedex extends React.Component {\n  state = {\n    url: `${apiHost}/api/v2/pokemon/?limit=50`,\n    offset: 0,\n    allPokemon: null,\n    isShiny: false,\n    highlightedPokemon: null,\n  };\n\n  componentDidMount() {\n    const fetchData = () => {\n      this.setState({loading: true});\n\n      return fetch(this.state.url)\n        .then(res => res.json())\n        .then(json => {\n          const promises = json.results.map(({name, url}) => {\n            return fetch(url)\n              .then(res => res.json())\n              .then(data => ({\n                name,\n                url,\n                index: url\n                  .replace(/\\/$/, '')\n                  .split('/')\n                  .pop(),\n                ...data,\n                types: data.types.sort((a, b) => a.slot - b.slot),\n              }));\n          });\n          return Promise.all(promises).then(pokemon => {\n            this.setState({loading: false});\n            return pokemon;\n          });\n        });\n    };\n\n    window.addEventListener('scroll', event => {\n      if (this.state.loading || this.state.doneLoading) return;\n\n      const height = document.documentElement.offsetHeight;\n      const scrolled = window.scrollY + window.innerHeight;\n\n      if (height * 0.85 <= scrolled) {\n        this.setState(state => {\n          const newOffset = state.offset + 50;\n\n          return {\n            ...state,\n            offset: newOffset,\n            url: `${apiHost}/api/v2/pokemon/?limit=50&offset=${newOffset}`,\n          };\n        });\n\n        fetchData().then(pokemon =>\n          this.setState(prevState => ({\n            doneLoading: pokemon.length === 0,\n            allPokemon: [...prevState.allPokemon, ...pokemon],\n          }))\n        );\n      }\n    });\n    fetchData().then(allPokemon => this.setState({allPokemon}));\n  }\n\n  render() {\n    const {allPokemon, highlightedPokemon, isShiny} = this.state;\n\n    return (\n      <div className=\"container\">\n        <header className=\"header\">\n          <h3 onClick={() => this.setState({highlightedPokemon: null})}>Pokedex</h3>\n          <button onClick={() => this.setState({isShiny: !isShiny})}>Toggle Shinies!</button>\n          <a\n            href=\"https://github.com/julicolo/react-pokedex\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <svg viewBox=\"0 0 16 16\" version=\"1.1\">\n              <path\n                color=\"white\"\n                fillRule=\"evenodd\"\n                d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"\n              ></path>\n            </svg>\n          </a>\n        </header>\n        <div\n          className=\"main\"\n          onClick={event => {\n            if (highlightedPokemon !== null) this.setState({highlightedPokemon: null});\n          }}\n        >\n          {highlightedPokemon ? (\n            <div className=\"highlighted\">\n              <Pokemon isShiny={isShiny} pokemon={highlightedPokemon} />\n            </div>\n          ) : null}\n          {allPokemon ? (\n            allPokemon.map(pokemon => (\n              <div\n                className=\"pokemonCard\"\n                key={pokemon.name}\n                onClick={() => this.setState({highlightedPokemon: pokemon})}\n              >\n                <PokemonCard isShiny={isShiny} {...pokemon} />\n              </div>\n            ))\n          ) : (\n            <h2>Loading Pokedex</h2>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}